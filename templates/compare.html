<!doctype html>
<html lang="en">
<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
	      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel=stylesheet type=text/css href="{{ url_for('static', filename='compare.css') }}">
	<link rel=stylesheet type=text/css href="{{ url_for('static', filename='menu.css') }}">

	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
	        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
	        crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
	<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/chart.js"></script>
	<script src="https://cdn.tailwindcss.com"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
	<script type="text/javascript" src="../js/methods.js"></script>
	<title>FOCOS</title>
</head>

<body>

<div class="main-page px-0 flex flex-no-wrap">
	{#	<div class="navbar p-0">#}
	<div class="navbar">
		<div class="text-black w-full font-black text-3xl py-10">
			FOCOS
		</div>
		<ul class="menu-list">
			<a href="javascript:void(0)" class="nav-link">
				<div>
					<i class="bi bi-arrow-down-right-circle-fill"></i>
					<span class="link-text text-2xl ml-2">Start</span>
				</div>
			</a>
			<a href="javascript:void(0)" class="nav-link">
				<div>
					<i class="bi bi-x-circle-fill"></i>
					<span class="link-text text-2xl ml-2">Explore</span>
				</div>
			</a>
			<a href="planning.html" class="nav-link">
				<div>
					<i class="bi bi-vector-pen"></i>
					<span class="link-text text-2xl ml-2">Plan</span>
				</div>
			</a>
			<a href="strategies.html" class="nav-link">
				<div>
					<i class="bi bi-ui-checks-grid"></i>
					<span class="link-text text-2xl ml-2">Strategies</span>
				</div>
			</a>
			<a href="compare.html" class="nav-link active-link">
				<div>
					<i class="bi bi-terminal-split"></i>
					<span class="link-text text-2xl ml-2">Compare</span>
				</div>
			</a>
			<a href="javascript:void(0)" class="nav-link">
				<div>
					<i class="bi bi-toggles2"></i>
					<span class="link-text text-2xl ml-2">Critique</span>
				</div>
			</a>
		</ul>


		<div class="menu-bottom mt-auto w-full">
			<div>
				<hr class="ml-0 mr-0 mb-2 p-0" style="height:1px;color:white;background-color:white">
			</div>
			<div class="user-info pb-12 pt-8">
				<a href="javascript:void(0)"><span class="text-l ml-2">Test User</span></a>
				<a href="javascript:void(0)"><span class="text-xl ml-2">Log Out</span></a>
			</div>
		</div>
	</div>
	{#	</div>#}

	<div class="rightScreen">
		<form class="elementsMainArea" name="main-form"
		      action="{{ url_for('compare_strategies') }}"
		      method=post>
			<div class="sec-name flex-sm-column">
				<h1 class="text-4xl font-weight-bold ml-4 pt-4">Compare Strategies</h1>
				<hr class="divider">
			</div>

			{#			<div class="forEachColumn">#}
			<div class="list-group p-6">
				<div>
					<h3 class="text-2xl font-weight-bold py-2">Select strategies to compare:</h3>
					{% for idx in range(5) %}
						<div class="drop-item">
							{#						<label for="strategies{{ idx }}">Option {{ idx }}: </label>#}
							<select class="form-select py-3 my-3 " style="max-width:90%; aria-label:form-select example"
							name="strategies{{ idx }}">
							<option value="none" selected disabled hidden>Choose one option</option>
							{% for entry in entries %}
								<option value="{{ entry.name }}">{{ entry.name }}</option>
							{% endfor %}
							</select>
						</div>
					{% endfor %}
				</div>

				<div>
					<button type="submit" class="btn btn-primary py-3" name="Compare" value="Compare">Compare</button>
				</div>
			</div>
			{#			</div>#}
		</form>

		<div class="container-fluid result-area">
			<div class="sec-name pt-4 pl-4">
				<h1 class="outputText text-3xl font-weight-bold mt-4">Output / Results</h1>
				<h2 class="text-l mt-2 mb-4">Model V1.01.2. Type: Base. Access 08.25.21</h2>
			</div>

			<div class="chartCard" id="result-here">
				<div class="BarchartBox">
					<canvas id="barChart"></canvas>
				</div>


				<div class="radarChartCard">
					<div class="radarChartBox">
						<canvas id="radarChart"></canvas>
					</div>

					<div class="saveForm d-flex flex-column justify-content-around pt-6 pb-10">
						<h6>Strategy Name:</h6> <input type="text" name="Name" class="boxInput"
						                               placeholder="Strategy/test one">
						<h6>Description:</h6> <textarea rows="3" cols="5" name="Description" spellcheck="true"
						                                class="boxInput"
						                                placeholder="Enter a description here..."></textarea>
						{#							display save button and reset button on the same line#}
						<div class="result-form d-flex justify-content-between gap-5">
							<button id="save" type="submit" class="btn btn-primary" value="SaveStrategy"
							        name="SaveStrategy"
							        data-button-state="save">Save Strategy
							</button>
							<button id="reset" type="submit" class="btn btn-secondary" value="Reset" name="Reset">
								Reset
							</button>
						</div>

					</div>
				</div>
			</div>

			<script>

          const CHART_COLORS = [
              'rgb(255, 99, 132)', //red
              'rgb(54, 162, 235)', //blue,
              'rgb(75, 192, 192)', //green
              'rgb(255, 159, 64)', //orange
              'rgb(255, 205, 86)' //yellow
          ];
          // setup
          var principles =
          {{ principles|tojson }}
          for (let idx = 0; idx < principles.length; idx++) {
              principles[idx] = "P" + (idx + 1).toString() + ": " + principles[idx]
          }

          var datasets = []
          var labels =
          {{ names|tojson }}
          //console.log({{ names|tojson }})
          //console.log({{all_effects}})
          var all_effects =
          {{ all_effects }}
          for (let idx = 0; idx < all_effects.length; idx++) {
              var effects = all_effects[idx]
              var label = labels[idx]
              //console.log(label)
              datasets.push({
                  label: label,
                  data: effects,
                  backgroundColor: CHART_COLORS[idx],
                  borderColor: CHART_COLORS[idx],
                  borderWidth: 1
              })

          }
          var data = {
              labels: principles,
              datasets: datasets
          };

          // config
          var config = {
              type: 'bar',
              data,
              options: {
                  responsive: true,
                  maintainAspectRatio: true,
                  x: {
                      min: -100,
                      max: 100,
                  },
                  plugins: {
                      legend: {
                          display: false
                      }
                  },
                  events: [],
                  indexAxis: 'y',
              }
          };

          // render init block
          var myChart = new Chart(
              document.getElementById('barChart'),
              config
          );
			</script>


			<script>
          var principles =
          {{ principles|tojson }}
          for (let idx = 0; idx < principles.length; idx++) {
              principles[idx] = "P" + (idx + 1).toString() //+ ": " + principles[idx]
          }

          var datasets1 = []
          var labels =
          {{ names|tojson }}
          //console.log({{ names|tojson }})
          //console.log({{all_effects}})
          var all_effects =
          {{ all_effects }}
          for (let idx = 0; idx < all_effects.length; idx++) {
              var effects = all_effects[idx]
              var label = labels[idx]
              //console.log(label)
              datasets1.push({
                  label: label,
                  data: effects,
                  fill: false,
                  backgroundColor: CHART_COLORS[idx],
                  borderColor: CHART_COLORS[idx],
                  backgroundColor: CHART_COLORS[idx],
                  borderColor: CHART_COLORS[idx],
                  pointHoverBackgroundColor: '#fff',
                  pointHoverBorderColor: 'rgb(255, 99, 132)'
              })

          }
          var data1 = {
              labels: principles,
              datasets: datasets1
          };

          var config1 = {
              type: 'radar',
              data: data1,
              options: {
                  responsive: true,
                  maintainAspectRatio: true,
                  scales: {
                      r: {
                          pointLabels: {
                              display: true // don't hide the labels around the radar chart
                          }
                      }
                  },
                  scale: {
                      min: -100,
                      max: 100,

                  },
                  plugins: {
                      legend: {
                          display: true
                      },
                  },
                  events: [],
                  elements: {
                      line: {
                          borderWidth: 3
                      }
                  }
              },
          };

          // render init block
          var myChart1 = new Chart(
              document.getElementById('radarChart'),
              config1
          );
			</script>
		</div>
	</div>

</div>


</div>


</body>

</html>
